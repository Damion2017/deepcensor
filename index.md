This site introduces the steps to reproduce the experiments of our paper: [Deep Censored Learning of the Winning Price in the Real Time Bidding](https://drive.google.com/file/d/1pjnF_y9LnjAlQNTq1XICKJUwmRg_I_tD/view?usp=sharing)

Please install [docker](https://docs.docker.com/install/) and use the following commands to re-run the experiments

```sh
docker run -it wush978/deepcensor:latest /bin/bash
# under docker
cd deepcensor
git pull origin master
source bin/activate
cd exp
python train.py --config linear-normal-no-ipinyou.exp.data-201310_1e-4/01.json
```

Each `.json` file under the folder `exp` is corresponding to one experiment in the paper.
The name of the subdirectories is generated by the `<link-structure>-<loss>-<censoring>-ipinyou.exp.data-201310_1e-4`.
Due to data size issue, only data of the iPinYou 3rd Season are released. 

## Reconstruct Training Data

To reconstruct the training dataset, please visit the [iPinYou Real-Time Bidding Dataset
for Computational Advertising Research](http://data.computational-advertising.org/) to download the `ipinyou.contest.dataset.zip` and place the file in the root directory of this project.

The reconstruction requires the following tools, their packages / modules, and their system dependencies:

- R 3.4.2
- python 3.6.3

We use linuxbrew to build these tools and the installed packages are under `brew.list`. Or the reader could download the docker image: `wush978/deepcensor:build` for a clone of our environment.

To initialize R environment, please run the following script under shell after installing R 3.4.2:

```shell
Rscript -e "install.packages('remotes')"
Rscript -e "remotes::install_github('wush978/pvm')"
Rscript -e "pvm::import.packages()"
```

Then, please run the following command:

```shell
make
```

